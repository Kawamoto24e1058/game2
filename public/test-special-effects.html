<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç‰¹æ®ŠåŠ¹æœã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ãƒ†ã‚¹ãƒˆ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #333;
    }
    
    .test-section {
      margin-bottom: 30px;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 12px;
      border-left: 4px solid #667eea;
    }
    
    .test-title {
      font-weight: 700;
      font-size: 18px;
      margin-bottom: 15px;
      color: #333;
    }
    
    .spec-box {
      background: white;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      border-left: 4px solid #4ecdc4;
    }
    
    .spec-label {
      font-weight: 600;
      color: #667eea;
      display: inline-block;
      min-width: 100px;
    }
    
    .spec-value {
      color: #333;
    }
    
    .formula {
      background: #f0f4ff;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      margin: 15px 0;
      color: #333;
    }
    
    .success-check {
      color: #27ae60;
      font-weight: 700;
    }
    
    .warning-note {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
    }
    
    .api-response {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin: 10px 0;
      max-height: 300px;
      overflow-y: auto;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    
    th {
      background: #667eea;
      color: white;
      font-weight: 700;
    }
    
    tr:hover {
      background: #f5f5f5;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ® ç‰¹æ®ŠåŠ¹æœã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ãƒ†ã‚¹ãƒˆ</h1>
    
    <!-- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä»•æ§˜ -->
    <div class="test-section">
      <div class="test-title">ã€1ã€‘ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä»•æ§˜ï¼šGemini ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</div>
      
      <div class="spec-box">
        <span class="spec-label">æ‹¡å¼µé …ç›®ï¼š</span>
        <span class="spec-value">specialEffectNameï¼ˆç‰¹æ®ŠåŠ¹æœåï¼‰ã€specialEffectDescriptionï¼ˆåŠ¹æœèª¬æ˜ï¼‰</span>
      </div>
      
      <div class="spec-box">
        <span class="spec-label">ä¾‹1 æ”»æ’ƒï¼š</span>
        <span class="spec-value">ã€Œç‚ã€â†’ specialEffectName: "ç«ã ã‚‹ã¾" / Description: "æ•µã‚’2ã‚¿ãƒ¼ãƒ³ç‡ƒã‚„ã—æ¯ã‚¿ãƒ¼ãƒ³è¿½åŠ ãƒ€ãƒ¡ãƒ¼ã‚¸"</span>
      </div>
      
      <div class="spec-box">
        <span class="spec-label">ä¾‹2 é˜²å¾¡ï¼š</span>
        <span class="spec-value">ã€Œç›¾ã€â†’ specialEffectName: "çµ¶å¯¾éšœå£" / Description: "æ¬¡ã®å—ã‘ã‚‹ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’30%è»½æ¸›"</span>
      </div>
      
      <div class="spec-box">
        <span class="spec-label">ä¾‹3 ã‚µãƒãƒ¼ãƒˆï¼š</span>
        <span class="spec-value">ã€Œå…‰ã€â†’ specialEffectName: "è–ãªã‚‹ç™’ã‚„ã—" / Description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®HPã‚’å…¨å›å¾©"</span>
      </div>
      
      <div class="warning-note">
        <strong>âš ï¸ é‡è¦ï¼š</strong> AI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯è¨€è‘‰ã®æ„å‘³ã‹ã‚‰å›ºæœ‰ã®ç‰¹æ®ŠåŠ¹æœã‚’ <strong>å‰µé€ </strong>ã—ã¦ãã ã•ã„ã€‚æ—¢å­˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚
      </div>
    </div>
    
    <!-- æ•°å€¤ãƒ©ãƒ³ãƒ€ãƒ åŒ– -->
    <div class="test-section">
      <div class="test-title">ã€2ã€‘æ•°å€¤ãƒ©ãƒ³ãƒ€ãƒ åŒ–ï¼šÂ±20% æŒ¯å¹…</div>
      
      <div class="spec-box">
        <span class="spec-label">è¨ˆç®—å¼ï¼š</span>
      </div>
      <div class="formula">
finalValue = Math.floor(baseValue * (Math.random() * 0.4 + 0.8))
// 0.8 ï½ 1.2 ã®ä¹±æ•°ï¼ˆÂ±20% æŒ¯å¹…ï¼‰
      </div>
      
      <table>
        <thead>
          <tr>
            <th>baseValue</th>
            <th>æœ€å°å€¤</th>
            <th>æœ€å¤§å€¤</th>
            <th>ä¾‹</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>50</td>
            <td>40</td>
            <td>60</td>
            <td>50 Ã— 0.8 = 40 ï½ 50 Ã— 1.2 = 60</td>
          </tr>
          <tr>
            <td>65</td>
            <td>52</td>
            <td>78</td>
            <td>65 Ã— 0.8 = 52 ï½ 65 Ã— 1.2 = 78</td>
          </tr>
          <tr>
            <td>35</td>
            <td>28</td>
            <td>42</td>
            <td>35 Ã— 0.8 = 28 ï½ 35 Ã— 1.2 = 42</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¡¨ç¤º -->
    <div class="test-section">
      <div class="test-title">ã€3ã€‘ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¡¨ç¤ºåˆ†å²</div>
      
      <div class="spec-box" style="border-left-color: #ff6b6b;">
        <strong>æ”»æ’ƒã‚«ãƒ¼ãƒ‰ï¼ˆattackï¼‰ï¼š</strong><br>
        âœ“ ã€Œæ”»æ’ƒåŠ›ï¼š{finalValue}ã€ã‚’è¡¨ç¤º<br>
        âœ“ specialEffectName ã¨ specialEffectDescription ã‚’ãƒ­ã‚°ã«è¡¨ç¤º<br>
        âœ— ã€Œã‚µãƒãƒ¼ãƒˆã€ã‚„ã€ŒåŠ¹æœåã€ã¯è¡¨ç¤ºã—ãªã„
      </div>
      
      <div class="spec-box" style="border-left-color: #3498db;">
        <strong>é˜²å¾¡ã‚«ãƒ¼ãƒ‰ï¼ˆdefenseï¼‰ï¼š</strong><br>
        âœ“ ã€Œé˜²å¾¡åŠ›ï¼š{finalValue}ã€ã‚’è¡¨ç¤º<br>
        âœ“ specialEffectName ã¨ specialEffectDescription ã‚’ãƒ­ã‚°ã«è¡¨ç¤º<br>
        âœ— æ”»æ’ƒåŠ›ã¯è¡¨ç¤ºã—ãªã„
      </div>
      
      <div class="spec-box" style="border-left-color: #4ecdc4;">
        <strong>ã‚µãƒãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ï¼ˆsupportï¼‰ï¼š</strong><br>
        âœ“ specialEffectName ã‚’å¤§ããè¡¨ç¤ºï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ï¼‰<br>
        âœ“ specialEffectDescription ã‚’è¡¨ç¤º<br>
        âœ“ effectTarget ã«åŸºã¥ã„ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°<br>
        âœ— ã€Œæ”»æ’ƒåŠ›ã€ã¨ã„ã†æ–‡å­—ã‚’è¡¨ç¤ºã—ãªã„<br>
        âœ— ãƒ€ãƒ¡ãƒ¼ã‚¸æ•°å€¤ã‚’è¡¨ç¤ºã—ãªã„
      </div>
    </div>
    
    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒªã‚¹ãƒˆ -->
    <div class="test-section">
      <div class="test-title">ã€4ã€‘ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒªã‚¹ãƒˆè¡¨ç¤º</div>
      
      <div class="spec-box">
        <span class="spec-label">è¡¨ç¤ºä½ç½®ï¼š</span>
        <span class="spec-value">ç”»é¢å·¦ä¸‹ï¼ˆãƒ­ã‚°ã®è¿‘ãï¼‰</span>
      </div>
      
      <div class="spec-box">
        <span class="spec-label">è¡¨ç¤ºå†…å®¹ï¼š</span>
        <span class="spec-value">ç¾åœ¨ç™ºå‹•ã—ã¦ã„ã‚‹ç‰¹æ®ŠåŠ¹æœã‚’ã€Œ[ç™ºå‹•ä¸­]ã€ãƒãƒƒã‚¸ä»˜ãã§è¡¨ç¤º</span>
      </div>
      
      <div class="spec-box">
        <span class="spec-label">è¡¨ç¤ºä¾‹ï¼š</span>
        <div style="background: #f0f0f0; padding: 10px; margin-top: 10px; border-radius: 8px;">
          <div style="margin: 5px 0;">
            <span style="background: #4ecdc4; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 700;">[ç™ºå‹•ä¸­]</span>
            <strong>è–ãªã‚‹ç™’ã‚„ã—</strong> - HPãŒ35å›å¾©ï¼
          </div>
          <div style="margin: 5px 0;">
            <span style="background: #4ecdc4; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 700;">[ç™ºå‹•ä¸­]</span>
            <strong>æˆ¦é—˜ã®é¼“èˆ</strong> - æ”»æ’ƒåŠ›ãŒ28ã‚¢ãƒƒãƒ—ï¼
          </div>
          <div style="margin: 5px 0;">
            <span style="background: #4ecdc4; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 700;">[ç™ºå‹•ä¸­]</span>
            <strong>æ•µå‹¢å‰Šå¼±</strong> - æ•µã®æ”»æ’ƒåŠ›ãŒ15ãƒ€ã‚¦ãƒ³ï¼
          </div>
        </div>
      </div>
    </div>
    
    <!-- å®Ÿè£…å®Œäº†ãƒã‚§ãƒƒã‚¯ -->
    <div class="test-section">
      <div class="test-title">âœ… å®Ÿè£…å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ Gemini ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã« specialEffectName è¿½åŠ 
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ Gemini ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã« specialEffectDescription è¿½åŠ 
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ /api/judgeCard ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ›´æ–°ï¼ˆæ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿”å´ï¼‰
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ ãƒ©ãƒ³ãƒ€ãƒ åŒ–è¨ˆç®—ã‚’ Â±20% æŒ¯å¹…ã«æ›´æ–°
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ test-judge.html ã® displayResult é–¢æ•°ã‚’ã‚¿ã‚¤ãƒ—åˆ¥è¡¨ç¤ºã«æœ€é©åŒ–
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ ç™ºå‹•ä¸­ã®åŠ¹æœãƒªã‚¹ãƒˆ UI å®Ÿè£…ï¼ˆactiveEffects ç®¡ç†ï¼‰
        </div>
      </div>
      
      <div class="spec-box">
        <div class="success-check">
          âœ“ ã‚µãƒãƒ¼ãƒˆåŠ¹æœã®æ­£ç¢ºãªé©ç”¨ï¼ˆeffectTarget ã«åŸºã¥ãï¼‰
        </div>
      </div>
    </div>
    
    <!-- API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ -->
    <div class="test-section">
      <div class="test-title">ã€å‚è€ƒã€‘API ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼</div>
      
      <strong>æ”»æ’ƒã‚«ãƒ¼ãƒ‰ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š</strong>
      <div class="api-response">
{
  "success": true,
  "cardName": "ç‚",
  "type": "attack",
  "baseValue": 65,
  "finalValue": 52,
  "specialEffectName": "ç«ã ã‚‹ã¾",
  "specialEffectDescription": "æ•µã‚’2ã‚¿ãƒ¼ãƒ³ç‡ƒã‚„ã—æ¯ã‚¿ãƒ¼ãƒ³è¿½åŠ ãƒ€ãƒ¡ãƒ¼ã‚¸",
  "effectTarget": "enemy_hp",
  "description": "ç‚ã¯ç‡ƒã‚„ã—ã¦æ”»æ’ƒã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰..."
}
      </div>
      
      <strong>ã‚µãƒãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼š</strong>
      <div class="api-response">
{
  "success": true,
  "cardName": "å…‰",
  "type": "support",
  "baseValue": 42,
  "finalValue": 35,
  "specialEffectName": "è–ãªã‚‹ç™’ã‚„ã—",
  "specialEffectDescription": "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®HPã‚’å›å¾©ã™ã‚‹",
  "effectTarget": "player_hp",
  "description": "å…‰ã¯æµ„åŒ–ã‚„å›å¾©ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã•ã›ã‚‹ãŸã‚..."
}
      </div>
    </div>
  </div>
  
  <script>
    console.log('='.repeat(60));
    console.log('ç‰¹æ®ŠåŠ¹æœã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ãƒ†ã‚¹ãƒˆ');
    console.log('='.repeat(60));
    
    console.log('\nâœ… ã€1ã€‘Gemini ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ‹¡å¼µ');
    console.log('  â€¢ specialEffectName ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ');
    console.log('  â€¢ specialEffectDescription ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ ');
    console.log('  â€¢ AI ãŒè¨€è‘‰ã®æœ¬è³ªã‹ã‚‰å›ºæœ‰åŠ¹æœã‚’å‰µé€ ã™ã‚‹ã‚ˆã†æŒ‡ç¤º');
    
    console.log('\nâœ… ã€2ã€‘æ•°å€¤ãƒ©ãƒ³ãƒ€ãƒ åŒ–');
    console.log('  â€¢ è¨ˆç®—å¼ï¼šfinalValue = Math.floor(baseValue * (Math.random() * 0.4 + 0.8))');
    console.log('  â€¢ Â±20% æŒ¯å¹…ï¼ˆ0.8 ï½ 1.2ï¼‰');
    console.log('  â€¢ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå¯¾å¿œ');
    
    console.log('\nâœ… ã€3ã€‘ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¡¨ç¤ºåˆ†å²');
    console.log('  â€¢ attackï¼šæ”»æ’ƒåŠ› {finalValue} è¡¨ç¤º + specialEffect ãƒ­ã‚°');
    console.log('  â€¢ defenseï¼šé˜²å¾¡åŠ› {finalValue} è¡¨ç¤º + specialEffect ãƒ­ã‚°');
    console.log('  â€¢ supportï¼šeffectName ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º + æ”»æ’ƒåŠ›éè¡¨ç¤º');
    
    console.log('\nâœ… ã€4ã€‘ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒªã‚¹ãƒˆå®Ÿè£…');
    console.log('  â€¢ ç”»é¢å·¦ä¸‹ã«ç™ºå‹•ä¸­ã®åŠ¹æœãƒªã‚¹ãƒˆè¡¨ç¤º');
    console.log('  â€¢ [ç™ºå‹•ä¸­] ãƒãƒƒã‚¸ä»˜ã');
    console.log('  â€¢ åŠ¹æœåã¨èª¬æ˜ã‚’è¡¨ç¤º');
    
    console.log('\n' + '='.repeat(60));
    console.log('ã™ã¹ã¦ã®ä»•æ§˜ãŒå®Ÿè£…ã•ã‚Œã¾ã—ãŸï¼');
    console.log('='.repeat(60));
  </script>
</body>
</html>
